public class Evaluator {

    static double[][] whitePawnPST = new double[][] {
            {0.0,  0.0,  0.0,  0.0,  0.0,  0.0,  0.0,  0.0},
            {5.0,  5.0,  5.0,  5.0,  5.0,  5.0,  5.0,  5.0},
            {1.0,  1.0,  2.0,  3.0,  3.0,  2.0,  1.0,  1.0},
            {0.5,  0.5,  1.0,  2.5,  2.5,  1.0,  0.5,  0.5},
            {0.0,  0.0,  0.0,  2.0,  2.0,  0.0,  0.0,  0.0},
            {0.5, -0.5, -1.0,  0.0,  0.0, -1.0, -0.5,  0.5},
            {0.5,  1.0, 1.0,  -2.0, -2.0,  1.0,  1.0,  0.5},
            {0.0,  0.0,  0.0,  0.0,  0.0,  0.0,  0.0,  0.0}
    };

    static double[][] blackPawnPST = Utils.reverseArray(whitePawnPST);

    static double[][] whiteKnightPST = new double[][] {
            {-5.0, -4.0, -3.0, -3.0, -3.0, -3.0, -4.0, -5.0},
            {-4.0, -2.0,  0.0,  0.0,  0.0,  0.0, -2.0, -4.0},
            {-3.0,  0.0,  1.0,  1.5,  1.5,  1.0,  0.0, -3.0},
            {-3.0,  0.5,  1.5,  2.0,  2.0,  1.5,  0.5, -3.0},
            {-3.0,  0.0,  1.5,  2.0,  2.0,  1.5,  0.0, -3.0},
            {-3.0,  0.5,  1.0,  1.5,  1.5,  1.0,  0.5, -3.0},
            {-4.0, -2.0,  0.0,  0.5,  0.5,  0.0, -2.0, -4.0},
            {-5.0, -4.0, -3.0, -3.0, -3.0, -3.0, -4.0, -5.0}
    };

    static double[][] blackKnightPST = Utils.reverseArray(whiteKnightPST);

    static double[][] whiteBishopPST = new double[][] {
            { -2.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -2.0},
            { -1.0,  0.0,  0.0,  0.0,  0.0,  0.0,  0.0, -1.0},
            { -1.0,  0.0,  0.5,  1.0,  1.0,  0.5,  0.0, -1.0},
            { -1.0,  0.5,  0.5,  1.0,  1.0,  0.5,  0.5, -1.0},
            { -1.0,  0.0,  1.0,  1.0,  1.0,  1.0,  0.0, -1.0},
            { -1.0,  1.0,  1.0,  1.0,  1.0,  1.0,  1.0, -1.0},
            { -1.0,  0.5,  0.0,  0.0,  0.0,  0.0,  0.5, -1.0},
            { -2.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -2.0}
    };

    static double[][] blackBishopPST = Utils.reverseArray(whiteBishopPST);

    static double[][] whiteRookPST = new double[][] {
            {  0.0,  0.0,  0.0,  0.0,  0.0,  0.0,  0.0,  0.0},
            {  0.5,  1.0,  1.0,  1.0,  1.0,  1.0,  1.0,  0.5},
            { -0.5,  0.0,  0.0,  0.0,  0.0,  0.0,  0.0, -0.5},
            { -0.5,  0.0,  0.0,  0.0,  0.0,  0.0,  0.0, -0.5},
            { -0.5,  0.0,  0.0,  0.0,  0.0,  0.0,  0.0, -0.5},
            { -0.5,  0.0,  0.0,  0.0,  0.0,  0.0,  0.0, -0.5},
            { -0.5,  0.0,  0.0,  0.0,  0.0,  0.0,  0.0, -0.5},
            {  0.0,  0.0, 0.0,  0.5,  0.5,  0.0,  0.0,  0.0}
    };

    static double[][] blackRookPST = Utils.reverseArray(whiteRookPST);

    static double[][] whiteQueenPST = new double[][] {
            { -2.0, -1.0, -1.0, -0.5, -0.5, -1.0, -1.0, -2.0},
            { -1.0,  0.0,  0.0,  0.0,  0.0,  0.0,  0.0, -1.0},
            { -1.0,  0.0,  0.5,  0.5,  0.5,  0.5,  0.0, -1.0},
            { -0.5,  0.0,  0.5,  0.5,  0.5,  0.5,  0.0, -0.5},
            {  0.0,  0.0,  0.5,  0.5,  0.5,  0.5,  0.0, -0.5},
            { -1.0,  0.5,  0.5,  0.5,  0.5,  0.5,  0.0, -1.0},
            { -1.0,  0.0,  0.5,  0.0,  0.0,  0.0,  0.0, -1.0},
            { -2.0, -1.0, -1.0, -0.5, -0.5, -1.0, -1.0, -2.0}
    };

    static double[][] blackQueenPST = Utils.reverseArray(whiteQueenPST);

    static double[][] whiteKingPST = new double[][] {
            { -3.0, -4.0, -4.0, -5.0, -5.0, -4.0, -4.0, -3.0},
            { -3.0, -4.0, -4.0, -5.0, -5.0, -4.0, -4.0, -3.0},
            { -3.0, -4.0, -4.0, -5.0, -5.0, -4.0, -4.0, -3.0},
            { -3.0, -4.0, -4.0, -5.0, -5.0, -4.0, -4.0, -3.0},
            { -2.0, -3.0, -3.0, -4.0, -4.0, -3.0, -3.0, -2.0},
            { -1.0, -2.0, -2.0, -2.0, -2.0, -2.0, -2.0, -1.0},
            {  2.0,  2.0,  0.0,  0.0,  0.0,  0.0,  2.0,  2.0},
            {  2.0,  3.0,  1.0,  0.0,  0.0,  1.0,  3.0,  2.0}
    };

    static double[][] blackKingPST = Utils.reverseArray(whiteKingPST);

    static double evaluate(Board board) {
        double score = getPieceValue(board.getWhiteKingSq());
        for (Square sq : board.getWhitePiecesSq()) {
            score += getPieceValue(sq);
        }
        score += getPieceValue(board.getBlackKingSq());
        for (Square sq : board.getBlackPiecesSq()) {
            score += getPieceValue(sq);
        }
        return score;
    }

    static double getPieceValue(Square square) {
        boolean w = square.getPiece().getColor().bool();
        int x = square.getX();
        int y = square.getY();

        double value = 0;
        switch (square.getPiece().getPieceType()) {
            case PAWN:
                value = 100 + (w ? whitePawnPST[x][y] : blackPawnPST[x][y]);
                break;
            case KNIGHT:
                value = 320 + (w ? whiteKnightPST[x][y] : blackKnightPST[x][y]);
                break;
            case BISHOP:
                value = 330 + (w ? whiteBishopPST[x][y] : blackBishopPST[x][y]);
                break;
            case ROOK:
                value = 500 + (w ? whiteRookPST[x][y] : blackRookPST[x][y]);
                break;
            case QUEEN:
                value = 900 + (w ? whiteQueenPST[x][y] : blackQueenPST[x][y]);
                break;
            case KING:
                value = 20000 + (w ? whiteKingPST[x][y] : blackKingPST[x][y]);
                break;
        }
        return w ? value : -value;
    }
}
